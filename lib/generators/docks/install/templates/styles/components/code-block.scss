//*
// The wrapper (full width) around the code block that allows it to scroll naturally.

// @since 0.0.1
// @author Chris Sauve (chrismsauve@gmail.com)

.code-block {
  margin: 1.5rem auto;
  border-radius: 0.25rem;
  overflow: hidden;
  background: color(sky-light);
  transition: max-height 0.3s ease,
              border-color 0.3s ease,
              visibility 0s 0.27s linear,
              transform 0.3s ease;

  pre {
    margin: 0;
  }

  .tab-list__panel-container {
    position: relative;
    z-index: z(tab-panel, $code-block);
  }
}

.code-block--full-width {
  margin: 0;
  border-radius: 0;
}

.code-block__header .tab-list__tab {
  transform: translateY(0);
  transition: transform 0.2s ease;
}

.code-block--is-hidden {
  .tab-list__tab {
    transform: translateY(-200%);
  }

  .code-block__demo-selector {
    transform: translateY(-150%);
  }
}

.code-block__hide-button {
  text-align: center;
  min-width: 5.5rem; // Width of longer text => ~86.5 / 16 base
}

.code-block__demo-selector {
  transition: transform 0.2s ease, opacity 0.3s ease;
}



.code-block__actions {
  display: flex;
  align-items: center;
}

.code-block__header {
  background-color: color(slate-light);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.25rem 1.5rem;
  position: relative;
  z-index: z(header, $code-block);
}


.code-block__code__wrapper {
  overflow: auto;
  transition: max-height 0.3s ease;
  border-radius: 0.25rem;

  .code-block--has-header &,
  .code-block--has-demo & {
    border: 1px solid color(sky-dark);
  }

  .code-block--has-header & {
    border-top: none;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
  }

  .code-block--has-demo & {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }

  .code-block--full-width & {
    border: none;
  }
}

.code-block__demo {
  background-color: color(white);
  border: 1px solid color(sky-dark);
  border-top: none;
  border-radius: 0 0 0.25rem 0.25rem;
  position: relative;
}

.code-block__demo__heading {
  // positioning
  position: absolute;
  top: 0; right: 0;

  // sizing
  margin: 0;
  padding: 0.25rem 0.5rem;

  // backdrop
  border-left: 1px solid color(sky);
  border-bottom: 1px solid color(sky);
  border-bottom-left-radius: 0.2rem;

  // type
  font-size: 0.8rem;
  line-height: 1;
  text-transform: uppercase;
  color: color(sky-dark);
  font-weight: 300;
}

.code-block__demo__content {
  padding: 2.5rem 1.5rem 1.5rem;
}

//*
// The actual code for the associated demo. This is where all of the styles
// for the syntax highlighting should go.

// @since 0.0.1
// @author Chris Sauve (chrismsauve@gmail.com)

.code-block__code__scroller {
  display: inline-block;
  padding: 1.5rem;
  font-family: Consolas, monospace;
  font-size: 1.1em;
  line-height: 1.3;

  // Source: https://github.com/richleland/pygments-css/blob/master/github.css
  .c, .hljs-comment { color: rgba(color(slate), 0.25); font-style: italic } /* Comment */
  .err { color: #a61717; background-color: #e3d2d2 } /* Error */
  .k { color: #000000; font-weight: bold } /* Keyword */
  .o { color: #000000; font-weight: bold } /* Operator */
  .cm { color: #999988; font-style: italic } /* Comment.Multiline */
  .cp { color: #999999; font-weight: bold; font-style: italic } /* Comment.Preproc */
  .c1 { color: #999988; font-style: italic } /* Comment.Single */
  .cs { color: #999999; font-weight: bold; font-style: italic } /* Comment.Special */
  .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
  .ge { color: #000000; font-style: italic } /* Generic.Emph */
  .gr { color: #aa0000 } /* Generic.Error */
  .gh { color: #999999 } /* Generic.Heading */
  .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
  .go { color: #888888 } /* Generic.Output */
  .gp { color: #555555 } /* Generic.Prompt */
  .gs { font-weight: bold } /* Generic.Strong */
  .gu { color: #aaaaaa } /* Generic.Subheading */
  .gt { color: #aa0000 } /* Generic.Traceback */
  .kc { color: #000000; font-weight: bold } /* Keyword.Constant */
  .kd { color: #000000; font-weight: bold } /* Keyword.Declaration */
  .kn { color: #000000; font-weight: bold } /* Keyword.Namespace */
  .kp { color: #000000; font-weight: bold } /* Keyword.Pseudo */
  .kr { color: #000000; font-weight: bold } /* Keyword.Reserved */
  .kt { color: #445588; font-weight: bold } /* Keyword.Type */
  .m { color: #009999 } /* Literal.Number */
  .s, .hljs-value { color: color(blue) } /* Literal.String */
  .na, .hljs-attribute { color: color(sky-darker) } /* Name.Attribute */
  .nb { color: #0086B3 } /* Name.Builtin */
  .nc { color: #445588; font-weight: bold } /* Name.Class */
  .no { color: color(slate) } /* Name.Constant */
  .o + .no { color: color(blue) }
  .nd { color: #3c5d5d; font-weight: bold } /* Name.Decorator */
  .ni { color: #800080 } /* Name.Entity */
  .ne { color: #990000; font-weight: bold } /* Name.Exception */
  .nf { color: #990000; font-weight: bold } /* Name.Function */
  .nl { color: #990000; font-weight: bold } /* Name.Label */
  .nn { color: #555555 } /* Name.Namespace */
  .nt, .hljs-tag { color: color(slate); } /* Name.Tag */
  .nv, .hljs-variable { color: color(slate) } /* Name.Variable */
  .ow { color: #000000; font-weight: bold } /* Operator.Word */
  .w { color: #bbbbbb } /* Text.Whitespace */
  .mf { color: #009999 } /* Literal.Number.Float */
  .mh { color: #009999 } /* Literal.Number.Hex */
  .mi { color: #009999 } /* Literal.Number.Integer */
  .mo { color: #009999 } /* Literal.Number.Oct */
  .sb { color: color(blue) } /* Literal.String.Backtick */
  .sc { color: color(blue) } /* Literal.String.Char */
  .sd { color: color(blue) } /* Literal.String.Doc */
  .s2 { color: color(blue) } /* Literal.String.Double */
  .se { color: color(blue) } /* Literal.String.Escape */
  .sh { color: color(blue) } /* Literal.String.Heredoc */
  .si { color: color(blue) } /* Literal.String.Interpol */
  .sx { color: color(blue) } /* Literal.String.Other */
  .sr { color: #009926 } /* Literal.String.Regex */
  .s1 { color: color(blue) } /* Literal.String.Single */
  // .ss { color: color(blue-light) } /* Literal.String.Symbol */
  .bp { color: #999999 } /* Name.Builtin.Pseudo */
  .vc { color: color(slate) } /* Name.Variable.Class */
  .vg { color: color(slate) } /* Name.Variable.Global */
  .vi { color: color(slate) } /* Name.Variable.Instance */
  .il { color: #009999 } /* Literal.Number.Integer.Long */
}
