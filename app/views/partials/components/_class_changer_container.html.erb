<%
  component.config do |config|
    config.defaults variations: {},
                    base_class: "class",
                    group_by: :base_class
  end
%>

<% if component.variations.present? %>
  <div class="class-changer__container" data-iframe-id="<%= component.base_class %>">
    <% component.variations.each do |base_class, variations| %>
      <% if component.group_by == :base_class %>
        <h3 class="class-changer__heading"><%= base_class.split(/(?:\-\-|__|\-)/).map(&:capitalize).join(" ") %></h3>

        <section class="class-changer__base-class-group">
          <% variations.each do |variation| %>
            <%= docks_class_changer variation: variation %>
          <% end %>
        </section>

      <% else %>
        <% variations.each do |variation| %>
          <%= docks_class_changer variation: variation %>
        <% end %>
      <% end %>
    <% end %>
  </div>
<% end %>
